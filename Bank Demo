package bankoperations;
import java.util.Random;
import java.util.Scanner;
class BankAccount {
	    private String bankAccountNo = "12345";
	    private String password = "pass123";
	    private double balance = 5000.0;  
	    public void checkLogin(String acc, String pass, Scanner ob) {
	        if (acc.equals(bankAccountNo) && pass.equals(password)) {
	            System.out.println("\nLogin Successful!");
	            showMenu(ob); 
	        } else {
	            System.out.println("\nLogin Failed! Wrong Account Number or Password.");
	        }
	    }
	    public void showMenu(Scanner ob) {
	        while (true) {  
	            System.out.println("\nChoose an option:");
	            System.out.println("1. Deposit");
	            System.out.println("2. Withdraw");
	            System.out.println("3. Transfer");
	            System.out.println("4. Logout");
	            System.out.print("Enter choice: ");
	            int choice = ob.nextInt();
	            switch (choice) {
	                case 1: System.out.print("Enter amount to deposit: ");
	                    double deposit = ob.nextDouble();
	                    balance = balance + deposit;
	                    System.out.println("Deposited Successfully. Current Balance = " + balance);
	                    break;
	                case 2: System.out.print("Enter amount to withdraw: ");
	                    double withDraw = ob.nextDouble();
	                    if (withDraw <= balance) {
	                        balance = balance - withDraw;
	                        System.out.println("Withdrawn Successfully. Current Balance = " + balance);
	                    } else {
	                        System.out.println("Insufficient Balance!");
	                    }
	                    break;
	                case 3: System.out.print("Enter amount to transfer: ");
	                    double transfer = ob.nextDouble();
	                    if (transfer <= balance) {
	                        Random rand = new Random();
	                        int otp = 1000 + rand.nextInt(9000); // 4 digit OTP
	                        System.out.println("Your OTP is: " + otp);

	                        System.out.print("Enter OTP to confirm transfer: ");
	                        int enteredOtp = ob.nextInt();

	                        if (enteredOtp == otp) {
	                            balance = balance - transfer;
	                            System.out.println("Transfer Successful. Current Balance = " + balance);
	                        } else {
	                            System.out.println("Invalid OTP. Transfer Failed.");
	                        }
	                    } else {
	                        System.out.println("Insufficient Balance!!!");
	                    }
	                    break;
	                case 4: System.out.println("You have logged out successfully!");
	                        return; 
	                default: System.out.println("Invalid Choice!!! Try again.");
	            }
	        }
	    }
	}
	public class Bankdemo {
	    public static void main(String[] args) {
	        Scanner sc = new Scanner(System.in);
	        BankAccount account = new BankAccount();
	        System.out.print("Enter Bank Account Number: ");
	        String enteredAcc = sc.nextLine();
	        System.out.print("Enter Password: ");
	        String enteredPass = sc.nextLine();
	        account.checkLogin(enteredAcc, enteredPass, sc);
	    }
	}


